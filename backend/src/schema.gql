# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthPayload {
  accessToken: String!
  user: User!
}

type Chapter {
  completedLessonsCount: Int
  course: Course!
  createdAt: DateTime!
  id: ID!
  lessons: [Lesson!]
  lessonsCount: Int
  position: Int!
  title: String!
  updatedAt: DateTime!
}

input ChapterPositionInput {
  id: String!
  position: Int!
}

type Course {
  category: String!
  chapters: [Chapter!]
  chaptersCount: Int
  createdAt: DateTime!
  createdBy: CourseCreator!
  description: String!
  duration: Int
  enrollmentsCount: Int
  fileKey: String
  id: ID!
  imageUrl: String
  level: CourseLevel!
  outcomes: String
  price: Float!
  progress: CourseProgressOutput
  publishedAt: DateTime
  requirements: String
  slug: String!
  smallDescription: String!
  status: CourseStatus!
  stripePriceId: String
  title: String!
  updatedAt: DateTime!
}

type CourseCreator {
  email: String!
  id: String!
  name: String!
  role: UserRole!
}

"""The difficulty level of a course"""
enum CourseLevel {
  """Advanced level course"""
  Advanced

  """Beginner level course"""
  Beginner

  """Intermediate level course"""
  Intermediate
}

type CourseProgressOutput {
  completedCount: Int!
  percentage: Int!
  totalCount: Int!
}

"""The publication status of a course"""
enum CourseStatus {
  """Course is archived"""
  Archived

  """Course is in draft mode"""
  Draft

  """Course is published and visible to users"""
  Published
}

input CreateChapterInput {
  courseId: String!
  description: String
  position: Int
  title: String!
}

input CreateCourseInput {
  category: String
  description: String!
  duration: Int
  imageUrl: String
  level: CourseLevel
  outcomes: String
  price: Float!
  requirements: String
  smallDescription: String
  status: CourseStatus
  stripePriceId: String
  title: String!
}

input CreateLessonAttachmentInput {
  fileName: String!
  fileSize: Int!
  fileType: String!
  fileUrl: String!
  lessonId: String!
}

input CreateLessonInput {
  content: String
  description: String
  duration: Int
  isFree: Boolean = false
  order: Int
  thumbnailKey: String
  title: String!
  videoKey: String
  videoUrl: String
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

input EnrollInCourseInput {
  courseId: String!
}

type Enrollment {
  completedAt: DateTime
  course: Course!
  courseId: String!
  createdAt: DateTime!
  expiresAt: DateTime
  id: ID!
  status: String!
  user: User
  userId: String!
}

type EnrollmentResponse {
  checkoutUrl: String
  enrollmentId: String
  message: String!
  success: Boolean!
}

type Lesson {
  chapter: Chapter
  completed: Boolean!
  content: String
  createdAt: DateTime!
  description: String
  duration: Int
  id: ID!
  isCompleted: Boolean
  isFree: Boolean!
  isPublished: Boolean!
  lessonProgress: [LessonProgress!]
  order: Int!
  thumbnailKey: String
  title: String!
  updatedAt: DateTime!
  videoKey: String
  videoUrl: String
}

type LessonAttachment {
  createdAt: DateTime!
  fileName: String!
  fileSize: Int!
  fileType: String!
  fileUrl: String!
  id: String!
  lessonId: String!
  updatedAt: DateTime!
}

input LessonPositionInput {
  id: String!
  position: Int!
}

type LessonProgress {
  completed: Boolean!
  completedAt: DateTime
  courseId: String!
  createdAt: DateTime!
  id: ID!
  lessonId: String!
  updatedAt: DateTime!
  userId: String!
}

input LoginInput {
  email: String!
  password: String!
}

type Mutation {
  archiveCourse(id: String!): Course!
  createChapter(input: CreateChapterInput!): Chapter!
  createCourse(input: CreateCourseInput!): Course!
  createLesson(chapterId: String!, input: CreateLessonInput!): Lesson!
  createLessonAttachment(input: CreateLessonAttachmentInput!): LessonAttachment!
  deleteChapter(id: String!): Boolean!
  deleteCourse(id: String!): Boolean!
  deleteFile(url: String!): Boolean!
  deleteLesson(id: String!): Boolean!
  deleteLessonAttachment(id: String!): Boolean!
  enrollInCourse(input: EnrollInCourseInput!): EnrollmentResponse!
  getUploadUrl(contentType: String!, fileName: String!): UploadUrlResponse!
  login(input: LoginInput!): AuthPayload!
  markLessonAsCompleted(lessonId: String!): LessonProgress!
  publishCourse(id: String!): Course!
  register(input: RegisterInput!): AuthPayload!
  reorderChapters(input: ReorderChaptersInput!): [Chapter!]!
  reorderLessons(input: ReorderLessonsInput!): [Lesson!]!
  toggleLessonCompletion(lessonId: String!): LessonProgress!
  updateChapter(input: UpdateChapterInput!): Chapter!
  updateCourse(input: UpdateCourseInput!): Course!
  updateLesson(id: String!, input: UpdateLessonInput!): Lesson!
  updateLessonContent(input: UpdateLessonContentInput!): Lesson!
  updateLessonProgress(input: UpdateProgressInput!, lessonId: String!): LessonProgress!
}

type Query {
  chaptersByCourse(courseId: String!): [Chapter!]!
  course(id: String!): Course!
  courseBySlug(slug: String!): Course!
  courseProgress(courseId: String!): CourseProgressOutput!
  courses(status: CourseStatus): [Course!]!
  getCourseForEdit(id: String!): Course!
  hello: String!
  isEnrolled(courseId: String!): Boolean!
  lesson(id: String!): Lesson!
  lessonAttachments(lessonId: String!): [LessonAttachment!]!
  lessonProgress(lessonId: String!): LessonProgress
  lessonsByChapter(chapterId: String!): [Lesson!]!
  me: User!
  myCourses: [Course!]!
  myEnrolledCourses: [Course!]!
  myEnrollments: [Enrollment!]!

  """API version"""
  version: String!
}

input RegisterInput {
  email: String!
  name: String
  password: String!
}

input ReorderChaptersInput {
  chapters: [ChapterPositionInput!]!
  courseId: String!
}

input ReorderLessonsInput {
  chapterId: String!
  lessons: [LessonPositionInput!]!
}

input UpdateChapterInput {
  description: String
  id: String!
  position: Int
  title: String
}

input UpdateCourseInput {
  category: String
  description: String
  duration: Float
  id: String!
  imageUrl: String
  level: CourseLevel
  outcomes: String
  price: Float
  requirements: String
  smallDescription: String
  status: CourseStatus
  stripePriceId: String
  title: String
}

input UpdateLessonContentInput {
  content: String
  isPublished: Boolean
  lessonId: String!
}

input UpdateLessonInput {
  content: String
  description: String
  duration: Int
  isFree: Boolean = false
  order: Int
  thumbnailKey: String
  title: String
  videoKey: String
  videoUrl: String
}

input UpdateProgressInput {
  watchedDuration: Int!
}

type UploadUrlResponse {
  key: String!
  publicUrl: String!
  uploadUrl: String!
}

type User {
  createdAt: DateTime!
  email: String!
  id: ID!
  name: String
  role: UserRole
}

"""The role of a user in the system"""
enum UserRole {
  """Administrator with full permissions"""
  ADMIN

  """Instructor who can create and manage courses"""
  INSTRUCTOR

  """Regular user with basic permissions"""
  USER
}